(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports={app:"imageApp_app__2cShS"}},20:function(e,t,a){e.exports={searchForm:"searchForm_searchForm__2Ib0H"}},21:function(e,t,a){e.exports={gallery:"gallery_gallery__2V1Iv"}},22:function(e,t,a){e.exports={photoCard:"galleryItem_photoCard__2aSqr",stats:"galleryItem_stats__3WR9e",statsItem:"galleryItem_statsItem__2oNOb",fullscreenButton:"galleryItem_fullscreenButton__2zwlg"}},23:function(e,t,a){e.exports={backdrop:"popup_backdrop__1mibS"}},25:function(e,t,a){e.exports=a(48)},48:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(17),c=a.n(r),s=a(7),i=a(2),l=a(3),m=a(5),u=a(4),p=a(6),g=a(18),h=a.n(g),f=a(19),d=a.n(f),b=a(20),v=a.n(b),E=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={value:""},a.onChange=function(e){var t=e.target;a.setState({value:t.value})},a.onSubmit=function(e){e.preventDefault(),a.props.onSubmit(a.state.value),a.clearInput()},a.clearInput=function(){a.setState({value:""})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.value;return o.a.createElement("form",{className:[v.a.searchForm],onSubmit:this.onSubmit},o.a.createElement("input",{type:"text",value:e,onChange:this.onChange,placeholder:"search image...",autoComplete:"off"}))}}]),t}(n.Component),w=a(21),_=a.n(w),y=a(24),I=a(22),S=a.n(I),L=Object(y.a)({},S.a),N=L.photoCard,P=L.stats,k=L.statsItem,O=L.fullscreenButton,j=function(e){var t=e.photo,a=e.showLargeImage;return o.a.createElement("div",{className:N},o.a.createElement("img",{src:t.webformatURL,alt:""}),o.a.createElement("div",{className:P},o.a.createElement("p",{className:k},o.a.createElement("i",{className:"material-icons"},"thumb_up"),"1108"),o.a.createElement("p",{className:k},o.a.createElement("i",{className:"material-icons"},"visibility"),"320321"),o.a.createElement("p",{className:k},o.a.createElement("i",{className:"material-icons"},"comment"),"129"),o.a.createElement("p",{className:k},o.a.createElement("i",{className:"material-icons"},"cloud_download"),"176019")),o.a.createElement("button",{type:"button",className:O,onClick:a(t.id)},o.a.createElement("i",{className:"material-icons"},"zoom_out_map")))},R=function(e){var t=e.images,a=e.showLargeImage;return o.a.createElement("ul",{className:[_.a.gallery]},t.map(function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(j,{photo:e,showLargeImage:a}))}))},A=a(23),C=a.n(A),U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).closePop=a.props.closePop,a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.closePop)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.closePop)}},{key:"render",value:function(){var e=this.props,t=e.closePop,a=e.img;return o.a.createElement("div",{className:[C.a.backdrop],onClick:t,role:"banner"},o.a.createElement("div",null,o.a.createElement("img",{src:a[0].largeImageURL,alt:"img"})))}}]),t}(n.Component),M=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).API_KEY="12913894-cfe9c627517d4fd58155261a8",a.API_URL="https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=",a.PAGE_NUMBER=1,a.PER_PAGE=12,a.imgTags=[],a.style={possition:"fixed",bottom:0},a.state={value:"",images:[],isShowMore:!1,isLargeImage:!1,currentId:""},a.fetcher=function(e){h.a.get("".concat(a.API_URL).concat(a.state.value,"&page=").concat(e,"&per_page=").concat(a.PER_PAGE,"&key=").concat(a.API_KEY)).then(function(e){return a.setState(function(t){var n=t.images;return{images:[].concat(Object(s.a)(n),Object(s.a)(a.mapper(e.data.hits)))}})}).then(function(){a.state.isShowMore&&window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}).then(function(){return a.setState({isShowMore:!1})})},a.counter=function(e){var t=a.PAGE_NUMBER;return function(){e(t+=1)}},a.showMore=function(){a.setState({isShowMore:!0}),a.counter(a.fetcher)()},a.onSubmit=function(e){a.setState({value:e,images:[]},function(){a.fetcher(a.PAGE_NUMBER)})},a.mapper=function(e){return e.map(function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,likes:e.likes,views:e.views,comments:e.comments,downloads:e.downloads}})},a.showLargeImage=function(e){return function(){a.setState({isLargeImage:!0,currentId:e}),document.body.style="overflow: hidden"}},a.closePop=function(e){"DIV"!==e.target.tagName&&"Escape"!==e.code||(a.setState({isLargeImage:!1}),document.body.style="overflow: vissible")},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.images,a=e.currentId,n=e.isLargeImage;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:[d.a.app]},o.a.createElement(E,{onSubmit:this.onSubmit}),o.a.createElement(R,{images:t,showLargeImage:this.showLargeImage,isLargeImage:n}),t.length>0&&o.a.createElement("button",{type:"button",onClick:this.showMore},"show more")),n&&o.a.createElement(U,{img:t.filter(function(e){return e.id===a}),closePop:this.closePop,closePop2:this.closePop2}))}}]),t}(n.Component);c.a.render(o.a.createElement(M,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.8b4a932f.chunk.js.map